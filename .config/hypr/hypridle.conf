# ~/.config/hypr/hypridle.conf

general {
    lock_cmd = pidof hyprlock || hyprlock          # Command to lock the screen
    unlock_cmd =                                  # Command to run when unlocked (e.g. pkill swayosd-server) (optional)
    before_sleep_cmd = loginctl lock-session      # Command to run before sleep
                                                  # (loginctl is usually robust for this)
                                                  # Alternatively: pidof hyprlock || hyprlock
    after_sleep_cmd = hyprctl dispatch dpms on    # Command to run after sleep (turn displays back on)
    ignore_dbus_inhibit = false                   # Whether to ignore D-Bus inhibits (e.g. from video players)
    ignore_logind_inhibit = false                 # Whether to ignore logind inhibits
}

# Lock screen after 5 minutes of inactivity
listener {
    timeout = 300                                 # 5 minutes = 300 seconds
    on-timeout = pidof hyprlock || hyprlock       # Command to run when timeout is reached
    on-resume = hyprctl dispatch dpms on          # Optional: Turn displays on when activity resumes before locking
                                                  # (e.g. if you have a shorter screen blank timeout first)
}

# Turn off displays after 10 minutes of inactivity
# This timeout should be LONGER than the lock timeout
listener {
    timeout = 600                                 # 10 minutes = 600 seconds
    on-timeout = hyprctl dispatch dpms off        # Command to turn off displays
    on-resume = hyprctl dispatch dpms on          # Command to turn displays back on when activity resumes
}

# Optional: Dim screen after 2 minutes (shorter than lock)
# This requires a utility like `brightnessctl` or `light` to be installed.
# listener {
#     timeout = 120                                 # 2 minutes = 120 seconds
#     on-timeout = brightnessctl set 10%            # Example: Dim screen to 10%
#     on-resume = brightnessctl set 100%            # Example: Restore brightness
# }