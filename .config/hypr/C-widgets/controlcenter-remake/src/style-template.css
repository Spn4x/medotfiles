/*
================================================================================
  Color & Font Definitions
================================================================================
*/

/* --- Color Palette & Font (Placeholders from Theme) --- */
@define-color background %%BACKGROUND%%;
@define-color foreground %%FOREGROUND%%;
@define-color accent     %%ACCENT%%;
@define-color surface    %%SURFACE%%;
@define-color warning    %%WARNING%%;
@define-color-font-main "JetBrainsMono Nerd Font";

/* --- Custom Colors Derived from RGBA Values --- */
@define-color white #FFFFFF;
@define-color black #000000;
@define-color custom-grey-dark #363636; /* Original: rgb(54, 54, 54) */
@define-color custom-grey-medium #808080; /* Original: rgb(128, 128, 128) */
@define-color lyrics-bg #141619; /* Original: rgb(20, 22, 25) */


/* ======================================= */
/* ---      NEW: Launch Animation      --- */
/* ======================================= */
@keyframes cinematic-bounce-controls {
  0% {
    min-width: 150px;
    min-height: 48px;
    border-radius: 24px;
    padding: 0;
  }
  70% {
    min-width: 630px; /* Overshoot */
    min-height: 200px; /* Overshoot */
    border-radius: 12px;
    padding: 14px; /* Overshoot */
  }
  100% {
    min-width: 600px; /* Final size */
  
    border-radius: 16px; /* Final radius */
    padding: 12px; /* Final padding */
  }
}

#main-container {
    background-color: alpha(@surface, 0.3);
    border: 2px solid alpha(@accent, 0.9);
    transition: all 400ms cubic-bezier(0.34, 1.56, 0.64, 1); /* Fallback for shrinking */
    
    /* Initial Pill State */
    border-radius: 24px;
    min-width: 150px;
    min-height: 48px;
    padding: 0;
}

#main-container.expanded {
    animation: cinematic-bounce-controls 600ms forwards;
    /* Explicitly set final state to match keyframes */
    min-width: 600px;
    border-radius: 16px;
    padding: 12px;
}

.pill-label {
    font-size: 1.1rem;
    font-weight: 600;
    color: @foreground;
}

/* ======================================= */
/* ---          Main Window            --- */
/* ======================================= */
window {
    font-family: @define-color-font-main, monospace;
    background-color: transparent; /* The window is a ghost */
    box-shadow: none;
    margin-left: 6px;
}

/* Your original .main-popup class now styles the content box inside */
.main-popup {
    border-radius: 16px;
    padding: 0; /* Padding is handled by the animated container now */
}

/* --- Top Toggle Grid --- */
.square-toggle {
    background: alpha(@custom-grey-dark, 0.3);
    border: none;
    border-radius: 10px;
    min-width: 120px;
    min-height: 60px;
    transition: background-color 0.2s ease-in-out;
}
.square-toggle:hover { background-color: alpha(@custom-grey-medium, 0.25); }
.square-toggle:checked image,
.square-toggle:checked label { color: white; }
.square-toggle image { font-size: 2em; margin-bottom: 4px; }
.square-toggle label { font-size: 0.9em; font-weight: bold; }

/* --- Sliders Box --- */
.sliders-box { background: none; margin: 12px 4px; }
.sliders-box > label { font-size: 0.8em; font-weight: bold; opacity: 0.7; margin-bottom: 2px; }
.pill-slider { background-color: alpha(@custom-grey-dark, 0.3); border-radius: 8px; padding: 6px 12px; min-height: 36px; margin-bottom: 8px; }
.pill-slider image { font-size: 1.1em; }
scale slider { background: alpha(@accent, 1.0); border: none; }
scale trough { background-color: alpha(@accent, 0.2); border-radius: 4px; min-height: 8px; border: none; }
scale trough highlight { background-color: alpha(@accent, 0.9); border-radius: 4px; }

/* --- Expansion Content --- */
.expandable-content-area { background-color: @theme_bg_color; border-radius: 12px; padding: 8px; box-shadow: none; }
.list-item-button { padding: 12px; border-radius: 8px; background: none; border: none; }
.list-item-button:hover { background-color: alpha(@white, 0.08); }

/* --- Bottom Bar --- */
.settings-button { background: none; border: none; font-size: 1.4em; padding: 8px; border-radius: 99px; }
.settings-button:hover { background-color: alpha(@white, 0.1); }
.password-prompt-overlay { background-color: rgba(0, 0, 0, 0.4); }

.fade-in-slide-up { animation: fade-in-slide-up 0.3s ease-out forwards; }
@keyframes fade-in-slide-up { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }